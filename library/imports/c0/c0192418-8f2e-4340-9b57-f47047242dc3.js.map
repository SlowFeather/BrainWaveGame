{"version":3,"sources":["assets\\scripts\\Tools\\UIUtil.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { List } from \"./DataStructure/List\";\nimport ResUtil from \"./ResUtil\";\nimport UILoader from \"./UILoader\";\n\n\nconst { ccclass, property } = cc._decorator;\n/**\n* UIUtil\n* UI工具\n* @ author: SlowFeather\n* @ wechat: BackedByTheWT\n* @ data: 2020-07-06 15:13\n*/\n@ccclass\nexport default class UIUtil {\n\n    public static uiList:List<cc.Node> = new List<cc.Node>();\n\n    /**\n     * 显示一个UI\n     * UIUtil.ShowUI(\"LoadingUI\");\n     * @static\n     * @param {string} uiname\n     * @param {Function} [callFun]\n     * @memberof UIUtil\n     */\n    public static ShowUI(uiname:string, callFun?: Function) {\n        for (let i = 0; i < this.uiList.Count; i++) {\n            const element = this.uiList.Get(i);\n            if (element.name==uiname) {\n                element.active=true;\n                if (callFun) {\n                    callFun(element);\n                }\n                return;\n            }\n        }\n\n        //直接加载 这里的unknow是因为vscode识别不出来是个node\n        let node =cc.instantiate(ResUtil.ResDictionary[uiname]) as unknown as cc.Node;\n        let scene = cc.director.getScene().getChildByName(\"Game\").getChildByName(\"Canvas\")\n        node.setParent(scene)\n        this.uiList.Add(node);\n        if (callFun) {\n            callFun(node);\n        }\n\n\n        //先下载再加载\n\n        // UILoader.Instance.loadPrefabRes(\"prefabs/ui/\" + uiname + \"/\" + uiname + \"\", (loadedui) => {\n        //     let ui = cc.instantiate(loadedui) as cc.Node\n        //     ui.name = uiname;\n        //     // let scene = cc.director.getScene();\n        //     let scene = cc.director.getScene().getChildByName(\"Game\").getChildByName(\"Canvas\")\n        //     ui.setParent(scene)\n        //     this.uiList.Add(ui);\n        //     if (callFun) {\n        //         callFun(ui);\n        //     }\n        //     console.log(\"ui->\"+this.uiList.Count);\n        // })\n        \n        \n    }\n\n    public static ShowBaseUI(uiname:string, callFun?: Function) {\n        UILoader.Instance.loadPrefabRes(\"base/ui/\" + uiname + \"/\" + uiname + \"\", (loadedui) => {\n            let ui = cc.instantiate(loadedui) as cc.Node\n            ui.name = uiname;\n            // let scene = cc.director.getScene();\n            let scene = cc.director.getScene().getChildByName(\"Game\").getChildByName(\"Canvas\")\n            ui.setParent(scene)\n            if (callFun) {\n                callFun(ui);\n            }\n            this.uiList.Add(ui);\n        })\n    }\n\n    \n    /**\n     * 隐藏一个UI\n     *\n     * @static\n     * @param {string} uiname\n     * @memberof UIUtil\n     */\n    public static HideUI(uiname:string){      \n        for (let i = 0; i < this.uiList.Count; i++) {\n            const element = this.uiList.Get(i);\n            if (element.name==uiname) {\n                element.active=false;\n            }\n        }\n        // let scene = cc.director.getScene().getChildByName(\"Game\").getChildByName(\"Canvas\")\n        // let ui = scene.getChildByName(uiname);\n        // if (!ui) {\n        //     console.error(\"没有这个UI：\" + uiname);\n        //     return\n        // }\n        // if (ui != null) ui.active=false;\n    }\n\n    \n    /**\n     * 移除一个UI\n     *\n     * @static\n     * @param {string} uiname\n     * @memberof UIUtil\n     */\n    public static RemoveUI(uiname:string) {\n        for (let i = 0; i < this.uiList.Count; i++) {\n            const element = this.uiList.Get(i);\n            if (element.name==uiname) {\n                this.uiList.Remove(element);\n                element.destroy();\n            }\n        }\n        //let scene = cc.director.getScene();\n        // let scene = cc.director.getScene().getChildByName(\"Game\").getChildByName(\"Canvas\")\n        // let ui = scene.getChildByName(uiname);\n        // if (!ui) {\n        //     console.error(\"没有这个UI：\" + uiname);\n        //     return\n        // }\n        // if (ui != null) ui.destroy();\n    }\n\n    public static GetUI(uiname:string){\n        for (let i = 0; i < this.uiList.Count; i++) {\n            const element = this.uiList.Get(i);\n            if (element.name==uiname) {\n                return element;\n            }\n        }\n    }\n}"]}