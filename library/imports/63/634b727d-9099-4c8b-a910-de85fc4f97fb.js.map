{"version":3,"sources":["assets\\scripts\\UI\\ShowResultUI\\ShowResultUI.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AACA,yCAAwC;AACxC,wEAAmE;AACnE,2DAAsD;AACtD,qEAAgE;AAEhE,6CAAwC;AAElC,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAyB,CAAC;AAG1C;IAA0C,gCAAY;IADtD;QAAA,qEA6DC;QA1DG,SAAS;QAET,eAAS,GAAc,EAAE,CAAC;;QAuD1B,iBAAiB;IACrB,CAAC;IAnDG,6BAAM,GAAN;QACI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAA,OAAO;YAC1B,OAAO,CAAC,MAAM,GAAC,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,+BAAQ,GAAR;QAEI,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QAEzB,YAAY;QACZ,sBAAY,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC;QAGtC,yDAAyD;QACzD,IAAI,KAAK,GAAC,qBAAW,CAAC,QAAQ,CAAC,0BAA0B,CAAC;QAG1D,kBAAkB;QAClB,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;YACxD,IAAI,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAY,CAAC;YAC/C,IAAI,KAAK,GAAC,KAAK,EAAE;gBACb,OAAO,CAAC,MAAM,GAAC,IAAI,CAAC;aACvB;SACJ;QAED,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAC,cAAc,GAAC,KAAK,CAAC,QAAQ,EAAE,GAAC,IAAI,CAAC;IAE9D,CAAC;IACD,gCAAS,GAAT;QACI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAA,OAAO;YAC1B,OAAO,CAAC,MAAM,GAAC,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;IACP,CAAC;IACD,4BAAK,GAAL;IAEA,CAAC;IACD,2CAAoB,GAApB;QACI,sBAAY,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QAEnC,wBAAwB;IACpB,CAAC;IACD,wCAAiB,GAAjB;QACI,sBAAY,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QAE3B,gBAAM,CAAC,MAAM,CAAC,aAAK,CAAC,OAAO,EAAC;YACxB,gBAAM,CAAC,MAAM,CAAC,aAAK,CAAC,YAAY,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;IACP,CAAC;IArDD;QADC,QAAQ,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;mDACM;IAG1B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;kDACD;IAPD,YAAY;QADhC,OAAO;OACa,YAAY,CA4DhC;IAAD,mBAAC;CA5DD,AA4DC,CA5DyC,EAAE,CAAC,SAAS,GA4DrD;kBA5DoB,YAAY","file":"","sourceRoot":"/","sourcesContent":["import { StorageDef } from \"../../Def/StorageDef\";\nimport { UIDef } from \"../../Def/UIDef\";\nimport DriveManager from \"../../Manager/DriveManager/DriveManager\";\nimport SoundManager from \"../../Manager/SoundManager\";\nimport UserManager from \"../../Manager/UserManager/UserManager\";\nimport StorageUtil from \"../../Tools/StorageUtil\";\nimport UIUtil from \"../../Tools/UIUtil\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class ShowResultUI extends cc.Component {\n\n    //所有的奖杯物体\n    @property([cc.Node])\n    allTrophy: cc.Node[] = [];\n\n    @property(cc.Label)\n    jihuoLab:cc.Label;\n\n    onLoad(){\n        this.allTrophy.forEach(element => {\n            element.active=false;\n        });\n    }\n\n    onEnable(){\n\n        console.log(\"-->进入结果页面\");\n\n        //再次确认关闭http\n        DriveManager.Instance.StopPingDrive();\n\n        \n        // let score=StorageUtil.getData(StorageDef.StarLight,0);\n        let score=UserManager.Instance.CurrentConstellationNumber;\n\n\n        //判断当前得分，得几分就得几个奖杯\n        for (let index = 0; index < this.allTrophy.length; index++) {\n            let element = this.allTrophy[index] as cc.Node;\n            if (index<score) {\n                element.active=true;\n            }\n        }\n\n        this.jihuoLab.string=\"激 活 星 座 数 量：\"+score.toString()+\" 个\";\n        \n    }\n    onDisable(){\n        this.allTrophy.forEach(element => {\n            element.active=false;\n        });\n    }\n    start () {\n        \n    }\n    OnShowResultBtnClick(){\n        SoundManager.playEffect(2);\n\n// parent.closeIFrame();\n    }\n    OnReStartBtnClick(){  \n        SoundManager.playEffect(2);\n\n        UIUtil.ShowUI(UIDef.StartUI,()=>{\n            UIUtil.HideUI(UIDef.ShowResultUI);\n        });\n    }\n    \n    // update (dt) {}\n}\n"]}